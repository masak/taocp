(tem linked-list first nil)

(def prs-linked-list (lst)
  (prs "<linked-list " lst!first ">"))

(def reverse-linked-list (lst)
  (with (prev nil
         next nil)
    (loop node lst!first next node
      (set next (cdr node))
      (set (cdr node) prev)
      (set prev node))
    (set lst!first prev)))

(set lst (make linked-list '(1 2 3 4 5)))
(reverse-linked-list lst)
(prn (prs-linked-list lst))
